{% extends 'superadmin/adminbase.html' %}
{% block title %}Categories - Superadmin{% endblock %}

{% block content %}
<!-- main -->
<main class="main-content-wrapper">
	<div class="container">
		<!-- row -->
		<div class="row mb-8">
			<div class="col-md-12">
				<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-4">
					<!-- pageheader -->
					<div>
						<h2>Carousel Image</h2>
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0">
								<li class="breadcrumb-item">
									<a href="{% url 'admin-home' %}" class="text-inherit">Dashboard</a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">
									Carousel Image
								</li>
							</ol>
						</nav>
					</div>
					<!-- button -->
					<div>
						<a href="{% url 'add-carousel-image' %}" class="btn btn-primary">Add Carousel Image</a>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xl-12 col-12 mb-5">
				<!-- card -->
				<div class="card h-100 card-lg">
					<div class="px-6 py-6">
						<div class="row justify-content-between">
							<div class="col-lg-4 col-md-6 col-12 mb-2 mb-md-0">
								<!-- form -->
								<form class="d-flex" role="search">
									<input class="form-control" type="search" placeholder="Search Category"
										aria-label="Search" />
								</form>
							</div>

						</div>
					</div>
					<!-- card body -->
					<div class="card-body p-0">
						<!-- table -->
						<div class="table-responsive">
							<table
								class="table table-centered table-hover mb-0 text-nowrap table-borderless table-with-checkbox">
								<thead class="bg-light">
									<tr>
										<th>
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value=""
													id="checkAll" />
												<label class="form-check-label" for="checkAll"></label>
											</div>
										</th>
										<th>Image</th>
										<th>Carousel Title</th>
										<th>Shop Page URL</th>
										<th>Offer Text</th>
										<th>Description</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									{% for img in images %}
									<tr>
										<!-- ✅ Checkbox -->
										<td>
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="{{ img.id }}"
													id="carouselCheck{{ img.id }}">
												<label class="form-check-label" for="carouselCheck{{ img.id }}"></label>
											</div>
										</td>

										<!-- ✅ Image + Title -->
										<td>
											<div class="d-flex align-items-center">
												<img src="/media/{{ img.image }}" alt="{{ img.title }}"
													class="icon-shape icon-md rounded me-3"
													style="width:60px; height:60px; object-fit:cover;">
												
											</div>
										</td>

										<td>
											<div>
													<p class="fw-semibold mb-0">{{ img.title }}</p>
													<small class="text-muted d-block">{{ img.created_at|date:"d M Y" }}</small>
												</div>
										</td>
										<!-- ✅ Shop Page URL -->
										<td>
											<a href="{{ img.page_link }}" target="_blank">{{ img.page_link }}</a>
										</td>
										<!-- ✅ Offer Text -->
										<td>{{ img.offer_text }}</td>

										<!-- ✅ Description -->
										<td style="max-width:300px;">
											<span class="text-truncate d-block"
												style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
												{{ img.description|safe }}
											</span>
										</td>

										<!-- ✅ Actions -->
										<td>
											<div class="dropdown">
												<a href="#" class="text-reset" data-bs-toggle="dropdown"
													aria-expanded="false">
													<i class="feather-icon icon-more-vertical fs-5"></i>
												</a>
												<ul class="dropdown-menu">
													
													<li>
														<a class="dropdown-item"
															href="{% url 'edit-carousel' img.id %}">
															<i class="bi bi-pencil-square me-3"></i> Edit
														</a>
													</li>
													<li>
														<a class="dropdown-item text-danger"
															href="{% url 'delete-carousel' img.id %}"
															onclick="return confirm('Are you sure you want to delete this carousel?');">
															<i class="bi bi-trash me-3"></i> Delete
														</a>
													</li>
												</ul>
											</div>
										</td>
									</tr>
									{% empty %}
									<tr>
										<td colspan="5" class="text-center text-muted py-4">No carousel images found.
										</td>
									</tr>
									{% endfor %}
								</tbody>

							</table>
						</div>
					</div>
					<div
						class="border-top d-flex justify-content-between align-items-md-center px-6 py-6 flex-md-row flex-column gap-4">
						<span>Showing 1 to 8 of 12 entries</span>
						<nav>
							<ul class="pagination mb-0">
								<li class="page-item disabled"><a class="page-link" href="#!">Previous</a></li>
								<li class="page-item"><a class="page-link active" href="#!">1</a></li>
								<li class="page-item"><a class="page-link" href="#!">2</a></li>
								<li class="page-item"><a class="page-link" href="#!">3</a></li>
								<li class="page-item"><a class="page-link" href="#!">Next</a></li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>
{% endblock %}